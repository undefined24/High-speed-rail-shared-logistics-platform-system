<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper    
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"    
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.undefined24.ssm.dao.AdminMapper">

<select id="adminLogin" resultType="administrator" parameterType="administrator">
select * from administrator where adminname=#{adminname} and adminpwd=#{adminpwd}
</select>

<update id="adminChangePwd" parameterType="administrator" >
update administrator set adminpwd=#{adminpwd} where adminID = #{adminID}
</update>

<insert id="addWorker" parameterType="worker" useGeneratedKeys="true">
insert into worker(workername,workerposition,workersex,workersalary,workercheckcard) values(#{workername},#{workerposition},#{workersex},#{workersalary},#{workercheckcard})
</insert>

<select id="checkWorker" resultType="worker" parameterType="worker">
select * from worker where workername=#{workername}
</select>

<select id="showWorker" resultType="worker">
select * from worker order by workerID
</select>

<update id="editWorker" parameterType="worker">
update worker
<set>
<if test="workername!=null">workername=#{workername},</if>
<if test="workerposition!=null">workerposition=#{workerposition},</if>
<if test="workersex!=null">workersex=#{workersex},</if>
<if test="workersalary!=null">workersalary=#{workersalary},</if>
<if test="workercheckcard!=null">workercheckcard=#{workercheckcard}</if>
</set>
where workerID = #{workerID}
</update>

<delete id="deleteWorker" parameterType="worker">
delete from worker where workerID = #{workerID}
</delete>
</mapper>